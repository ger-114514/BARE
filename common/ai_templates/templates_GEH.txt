armor_GEH = {

	available_for = {
		GEH
	}
	
	role = armor

	upgrade_prio = {
		factor = 2

	}

	medium_armor_1_GEH = {
	
		upgrade_prio = {
			factor = 2
		}

		target_template = {
			
			support = {
				engineer = 1
				maintenance_company = 1
				logistics_company = 1
			}
			
			regiments = {
				medium_armor = 2
				heavy_armor = 2
				apc_unit = 4
			}
		}
		
		reinforce_prio = 2
		replace_at_match = 0.7
		replace_with = medium_armor_2_GEH
		target_min_match = 0.7
	}
	medium_armor_2_GEH = {
	
		upgrade_prio = {
			factor = 1

			modifier = {
				factor = 1.5
				has_tech = heavy_bm_artillery_MK1
			}
			modifier = {
				factor = 1.5
				has_tech = heavy_bm_aa_MK1
			}

			modifier = {
				factor = 0.1
				num_of_military_factories < 60
			}
		}
		
		target_template = {
			
			support = {
				engineer = 1
				maintenance_company = 1
				mbt_recon = 1
				helicopter_logistics_company = 1
			}
			
			regiments = {
				heavy_armor = 2
				heavy_sp_artillery_brigade = 1
				heavy_sp_anti_air_brigade = 1
				ifv_unit = 4
			}
		}
		reinforce_prio = 2
		replace_at_match = 0.8
		replace_with = medium_armor_3_GEH
		target_min_match = 0.7
		
	}
	medium_armor_3_GEH = {
	
		upgrade_prio = {
			factor = 1

			modifier = {
				factor = 3
				num_of_military_factories > 100
			}
			modifier = {
				factor = 0
				NOT = {
					has_tech = General_helicopter_T2
				}
			}
			modifier = {
				factor = 0
				NOT = {
					has_tech = special_fire_support_weapons_T1
				}
			}
		}
		
		target_template = {
			
			support = {
				engineer = 1
				maintenance_company = 1
				mbt_recon = 1
				helicopter_logistics_company = 1
				fire_support_team_su_sa = 1
			}
			
			regiments = {
				heavy_armor = 5
				heavy_sp_artillery_brigade = 3
				heavy_sp_anti_air_brigade = 1
				ifv_unit = 6
			}
		}
		reinforce_prio = 2
		replace_at_match = 0.8
		target_min_match = 0.7
		
	}
}
mobile_GEH = {

	available_for = {
		GEH
	}
	
	role = mobile

	upgrade_prio = {
		factor = 2

	}

	mobile_1_GEH = {
	
		upgrade_prio = {
			factor = 1
		}

		target_template = {
			
			support = {
				engineer = 1
				maintenance_company = 1
				fire_support_team_su_la = 1
			}
			
			regiments = {
				apc_artillery_unit = 3
				apc_unit = 8
			}
		}
		
		reinforce_prio = 2
		replace_at_match = 0.6
		replace_with = mobile_2_GEH
		target_min_match = 0.6
	}
	mobile_2_GEH = {
	
		upgrade_prio = {
			factor = 2

			modifier = {
				factor = 4
				has_tech = Infantry_fighting_vehicle_T2
			}
			modifier = {
				factor = 0.1
				num_of_military_factories < 70
			}
		}

		target_template = {
			
			support = {
				engineer = 1
				apc_recon = 1
				maintenance_company = 1
				fire_support_team_su_sa = 1
			}
			
			regiments = {
				ifv_artillery_unit = 3
				ifv_unit = 8
			}
		}
		
		reinforce_prio = 2
		replace_at_match = 0.8
		replace_with = mobile_3_GEH
		target_min_match = 0.7
	}
	mobile_3_GEH = {
	
		upgrade_prio = {
			factor = 2

			modifier = {
				factor = 5
				has_tech = Infantry_fighting_vehicle_T2
			}
			modifier = {
				factor = 0.1
				num_of_military_factories < 100
			}
		}

		target_template = {
			
			support = {
				engineer = 1
				mbt_recon = 1
				maintenance_company = 1
				helicopter_logistics_company = 1
				fire_support_team_su_sa = 1
			}
			
			regiments = {
				light_armor = 2
				ifv_unit = 8
				ifv_artillery_unit = 2
				ifv_at_unit = 2
				ifv_aa_unit = 2
			}
		}
		
		reinforce_prio = 2
		replace_at_match = 0.8
		target_min_match = 0.7
	}

}

infantry_GEH = {

	available_for = {
		GEH
	}

	role = infantry
	
	upgrade_prio = {
		base = 5
	}
	
	infantry_1_GEH = {
	
		upgrade_prio = {
			base = 1

			modifier = {
				factor = 1.5
			}
		}
		
		target_template = {
			
			support = {
				engineer = 1
				recon = 1
				fire_support_team_su_ha = 1
			}
			
			regiments = {
				infantry = 9
				fire_support_team_la = 3
			}
		}

		replace_at_match = 0.5
		replace_with = infantry_2_GEH
		target_min_match = 0.5
	}

	infantry_2_GEH = {
	
		upgrade_prio = {
			factor = 2
			modifier = {
				factor = 4
				num_of_military_factories > 70
			}
			modifier = {
				factor = 1.5
				date > 2022.1.1
			}

		}
		
		target_template = {
			
			support = {
				engineer = 1
				apc_recon = 1
				maintenance_company = 1
				fire_support_team_su_ha = 1
				fire_support_team_su_la = 1
			}
			
			regiments = {
				infantry = 10
				fire_support_team_la = 3
				fire_support_team_ha = 1
				fire_support_team_aa = 1
			}
		}
		replace_at_match = 0.8
		replace_with = heavy_infantry_GEH
		target_min_match = 0.8
	}
	heavy_infantry_GEH = {
	
		upgrade_prio = {
			factor = 2
			modifier = {
				factor = 5
				num_of_military_factories > 90
			}
			modifier = {
				factor = 0
				date < 2023.1.1
			}
			modifier = {
				factor = 0
				NOT = {
					has_tech = special_fire_support_weapons_T1
				}
			}

		}
		
		target_template = {
			
			support = {
				engineer = 1
				apc_recon = 1
				maintenance_company = 1
				fire_support_team_su_ha = 1
				fire_support_team_su_sa = 1
			}
			
			regiments = {
				infantry_heavy = 10
				fire_support_team_la = 3
				fire_support_team_ha = 1
				fire_support_team_aa = 1
			}
		}
	}
}

garrison_GEH = {

	available_for = {
		GEH
	}
	
	role = garrison
	
	upgrade_prio = {
		base = 0.5

		modifier = {
			factor = 20
			NOT = { ai_has_role_template = garrison }
		}
	}
	garrison_1_GEH = {
	
		upgrade_prio = {
			factor = 2
		}
		
		reinforce_prio = 0
		
		target_template = {
			
			regiments = {
				infantry = 6
			}
		}
		replace_at_match = 0.7
		replace_with = garrison_2_GEH
		target_min_match = 0.7
	}
	
	garrison_2_GEH = {
	
		upgrade_prio = {
			factor = 1

			modifier = {
				factor = 3
				num_of_military_factories > 60
			}
		}
		
		reinforce_prio = 0
		
		target_template = {
			
			support = {
				engineer = 1
			}
			
			regiments = {
				infantry = 10
			}
		}
		replace_at_match = 0.7
		target_min_match = 0.7
	}
}
