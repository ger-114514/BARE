BA_Great_Game_decisions = {
	Great_Game_convert_into_civilian_factories = {
		available = {
			hidden_trigger = {
				check_variable = { Great_Game_coins > 199 }
			}
		}
		custom_cost_trigger = {
			check_variable = { Great_Game_coins > 199 }
		}
		custom_cost_text = Great_Game_coins_200
		days_remove = 180
		modifier = {
			industrial_factory_donations = 1
		}
		complete_effect = {
			set_temp_variable = { coins = 200 }
			Great_Game_cost_coins = yes
		}
	}
	Great_Game_convert_into_military_factories = {
		available = {
			hidden_trigger = {
				check_variable = { Great_Game_coins > 199 }
			}
		}
		custom_cost_trigger = {
			check_variable = { Great_Game_coins > 199 }
		}
		custom_cost_text = Great_Game_coins_200
		days_remove = 180
		modifier = {
			military_factory_donations = 1
		}
		complete_effect = {
			set_temp_variable = { coins = 200 }
			Great_Game_cost_coins = yes
		}
	}
	Great_Game_convert_into_factory_capacity = {
		available = {
			hidden_trigger = {
				check_variable = { Great_Game_coins > 199 }
			}
		}
		custom_cost_trigger = {
			check_variable = { Great_Game_coins > 199 }
		}
		custom_cost_text = Great_Game_coins_200
		days_remove = 180
		modifier = {
			industrial_capacity_factory = 0.05
		}
		complete_effect = {
			set_temp_variable = { coins = 200 }
			Great_Game_cost_coins = yes
		}
	}
	Great_Game_convert_into_equipments = {
		visible = {
			Great_Game_can_be_ceaser_overlord = no
		}
		available = {
			hidden_trigger = {
				check_variable = { Great_Game_coins > 199 }
			}
		}
		custom_cost_trigger = {
			check_variable = { Great_Game_coins > 199 }
		}
		custom_cost_text = Great_Game_coins_200
		days_re_enable = 90
		complete_effect = {
			set_temp_variable = { coins = 200 }
			Great_Game_cost_coins = yes
			random_list = {
				1 = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 250
					}
				}
				1 = {
					modifier = {
						factor = 0
						NOT = {
							has_tech = medium_tank_MK1
						}
					}
					add_equipment_to_stockpile = {
						type = medium_tank_chassis
						amount = 12
					}
				}
				1 = {
					modifier = {
						factor = 0
						NOT = {
							has_tech = light_fighting_drone
						}
					}
					add_equipment_to_stockpile = {
						type = small_uav_airframe
						amount = 12
					}
				}
			}
		}
	}
	Great_Game_college_lauch_invade = {
		visible = {
			has_war = no
			Great_Game_is_involved = no
			Great_Game_can_be_college_overlord = yes
			NOT = { has_country_flag = Great_Game_invade_cd }
		}
		available = {
			FROM.OVERLORD = {
				has_war = no
				Great_Game_is_involved = no
			}
		}
		target_trigger = {
			FROM = {
				NOT = {
					is_ally_with = ROOT
				}
				any_neighbor_country = {
					OR = {
						original_tag = ROOT
						AND = {
							is_subject_of = ROOT
							has_autonomy_state = autonomy_bare_trusteeship_area_2
						}
					}
				}
				Great_Game_can_be_trusteeship_area = yes
			}
			NOT = {
				is_in_array = { Great_Game_cannot_invade = FROM.OVERLORD }
			}
		}
		cancel_if_not_visible = no
		days_remove = 30
		complete_effect = {
			hidden_effect = {
				set_variable = { Great_Game_invader = ROOT }
				set_variable = { Great_Game_enemy = FROM.OVERLORD }
				set_variable = { Great_Game_invade_target = FROM }
				set_variable = { Great_Game_invade_target_overlord = FROM.OVERLORD }
				set_variable = { Great_Game_power_score_faction = Great_Game_power_score }
				set_country_flag = involved_in_Great_Game_as_attacker
				set_country_flag = involved_in_Great_Game_as_ally_leader
				FROM.OVERLORD = {
					set_variable = { Great_Game_invader = ROOT }
					set_variable = { Great_Game_enemy = ROOT }
					set_variable = { Great_Game_invade_target = FROM }
					set_variable = { Great_Game_invade_target_overlord = THIS }
					set_variable = { Great_Game_power_score_faction = Great_Game_power_score }
					set_country_flag = involved_in_Great_Game_as_defender
					set_country_flag = involved_in_Great_Game_as_ally_leader
					if = {
						limit = {
							Great_Game_can_be_CEN_overlord = yes
						}
						for_each_loop = {
							array = historical_friend
							value = ally
							if = {
								limit = {
									var:ally = {
										has_war = no
										Great_Game_is_involved = no
										Great_Game_can_be_CEN_overlord = yes
									}
								}
								set_temp_variable = { leader = THIS }
								set_temp_variable = { enemy = ROOT }
								Great_Game_invite_to_ally = yes
							}
						}
					}
					country_event = Great_Game.1
				}
			}
			
		}
		remove_effect = {
			custom_effect_tooltip = {
				localization_key = Great_Game_start_invasion_tt
				ATTACKER = "[?ROOT.GetNameWithFlag]"
				DEFENDER = "[?FROM.OVERLORD.GetNameWithFlag]"
				GOAL = "[?FROM.GetNameWithFlag]"
			}
			Great_Game_start_invasion = yes
			FROM = {
				every_neighbor_country = {
					limit = {
						is_subject_of = ROOT
						has_autonomy_state = autonomy_bare_trusteeship_area_2
					}
					add_to_war = {
						targeted_alliance = ROOT
						enemy = FROM.OVERLORD
					}
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM.OVERLORD
					ratio < 1
				}
			}
			modifier = {
				factor = 1.5
				strength_ratio = {
					tag = FROM.OVERLORD
					ratio > 1.5
				}
			}
			modifier = {
				factor = 3
				strength_ratio = {
					tag = FROM.OVERLORD
					ratio > 2
				}
			}
			modifier = {
				factor = 0.1
				fuel_ratio < 0.7
			}
			modifier = {
				factor = 0
				has_opinion = {
					target = FROM.OVERLORD
					value > 30
				}
			}
			modifier = {
				factor = 2
				has_opinion = {
					target = FROM.OVERLORD
					value < -30
				}
			}
		}
	}
	Great_Game_CEN_college_lauch_invade = {
		visible = {
			has_war = no
			Great_Game_is_involved = no
			Great_Game_can_be_CEN_overlord = yes
			NOT = { has_country_flag = Great_Game_invade_cd }
		}
		available = {
			FROM.OVERLORD = {
				has_war = no
				Great_Game_is_involved = no
			}
		}
		target_trigger = {
			FROM = {
				Great_Game_can_be_CEN_overlord = no
				NOT = {
					is_ally_with = ROOT
				}
				any_neighbor_country = {
					OR = {
						original_tag = ROOT
						AND = {
							is_subject_of = CEN
							has_autonomy_state = autonomy_CEN_trusteeship_area
						}
					}
				}
				Great_Game_can_be_trusteeship_area = yes
			}
			NOT = {
				is_in_array = { Great_Game_cannot_invade = FROM.OVERLORD }
			}
		}
		cancel_if_not_visible = no
		days_remove = 30
		complete_effect = {
			hidden_effect = {
				set_variable = { Great_Game_invader = ROOT }
				set_variable = { Great_Game_invade_target = FROM }
				set_variable = { Great_Game_invade_target_overlord = FROM.OVERLORD }
				set_variable = { Great_Game_enemy = FROM.OVERLORD }
				set_variable = { Great_Game_power_score_faction = Great_Game_power_score }
				set_country_flag = involved_in_Great_Game_as_attacker
				set_country_flag = involved_in_Great_Game_as_ally_leader
				for_each_loop = {
					array = historical_friend
					value = ally
					if = {
						limit = {
							var:ally = {
								has_war = no
								Great_Game_is_involved = no
								Great_Game_can_be_CEN_overlord = yes
							}
						}
						set_temp_variable = { leader = THIS }
						set_temp_variable = { enemy = FROM.OVERLORD }
						Great_Game_invite_to_ally = yes
					}
				}
				FROM.OVERLORD = {
					set_variable = { Great_Game_invader = ROOT }
					set_variable = { Great_Game_enemy = ROOT }
					set_variable = { Great_Game_invade_target = FROM }
					set_variable = { Great_Game_invade_target_overlord = THIS }
					set_variable = { Great_Game_power_score_faction = Great_Game_power_score }
					set_country_flag = involved_in_Great_Game_as_defender
					set_country_flag = involved_in_Great_Game_as_ally_leader
					country_event = Great_Game.1
				}
			}
			
		}
		remove_effect = {
			custom_effect_tooltip = {
				localization_key = Great_Game_start_invasion_tt
				ATTACKER = "[?ROOT.GetNameWithFlag]"
				DEFENDER = "[?FROM.OVERLORD.GetNameWithFlag]"
				GOAL = "[?FROM.GetNameWithFlag]"
			}
			Great_Game_start_invasion = yes
			FROM = {
				every_neighbor_country = {
					limit = {
						is_subject_of = CEN
						has_autonomy_state = autonomy_CEN_trusteeship_area
					}
					add_to_war = {
						targeted_alliance = ROOT
						enemy = FROM.OVERLORD
					}
				}
			}
		}
		ai_will_do = {
			base = 0.3
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM.OVERLORD
					ratio < 1
				}
			}
			modifier = {
				factor = 1.5
				strength_ratio = {
					tag = FROM.OVERLORD
					ratio > 1.5
				}
			}
			modifier = {
				factor = 3
				strength_ratio = {
					tag = FROM.OVERLORD
					ratio > 2
				}
			}
			modifier = {
				factor = 0.1
				fuel_ratio < 0.7
			}
			modifier = {
				factor = 0
				has_opinion = {
					target = FROM.OVERLORD
					value > 30
				}
			}
			modifier = {
				factor = 2
				has_opinion = {
					target = FROM.OVERLORD
					value < -30
				}
			}
		}
	}
	Great_Game_ceaser_lauch_invade = {
		visible = {
			has_war = no
			Great_Game_is_involved = no
			Great_Game_can_be_ceaser_overlord = yes
			NOT = { has_country_flag = Great_Game_invade_cd }
		}
		available = {
			FROM.OVERLORD = {
				has_war = no
				Great_Game_is_involved = no
			}
		}
		target_trigger = {
			FROM = {
				NOT = {
					is_ally_with = ROOT
				}
				any_neighbor_country = {
					OR = {
						original_tag = ROOT
						AND = {
							is_subject_of = CAE
							OR = {
								has_autonomy_state = autonomy_Ceaser_sub_branch
								has_autonomy_state = autonomy_Ceaser_trusteeship_area
							}
						}
					}
				}
				Great_Game_can_be_trusteeship_area = yes
			}
			NOT = {
				is_in_array = { Great_Game_cannot_invade = FROM.OVERLORD }
			}
		}
		cancel_if_not_visible = no
		days_remove = 30
		complete_effect = {
			hidden_effect = {
				set_variable = { Great_Game_invader = ROOT }
				set_variable = { Great_Game_enemy = FROM.OVERLORD }
				set_variable = { Great_Game_invade_target = FROM }
				set_variable = { Great_Game_invade_target_overlord = FROM.OVERLORD }
				set_variable = { Great_Game_power_score_faction = Great_Game_power_score }
				set_country_flag = involved_in_Great_Game_as_attacker
				set_country_flag = involved_in_Great_Game_as_ally_leader
				FROM.OVERLORD = {
					set_variable = { Great_Game_invader = ROOT }
					set_variable = { Great_Game_enemy = ROOT }
					set_variable = { Great_Game_invade_target = FROM }
					set_variable = { Great_Game_invade_target_overlord = THIS }
					set_variable = { Great_Game_power_score_faction = Great_Game_power_score }
					set_country_flag = involved_in_Great_Game_as_defender
					set_country_flag = involved_in_Great_Game_as_ally_leader
					if = {
						limit = {
							Great_Game_can_be_CEN_overlord = yes
						}
						for_each_loop = {
							array = historical_friend
							value = ally
							if = {
								limit = {
									var:ally = {
										has_war = no
										Great_Game_is_involved = no
										Great_Game_can_be_CEN_overlord = yes
									}
								}
								set_temp_variable = { leader = THIS }
								set_temp_variable = { enemy = ROOT }
								Great_Game_invite_to_ally = yes
							}
						}
					}
					country_event = Great_Game.1
				}
			}
			
		}
		remove_effect = {
			Great_Game_start_invasion = yes
			FROM = {
				every_neighbor_country = {
					limit = {
						is_subject_of = CAE
						OR = {
							has_autonomy_state = autonomy_Ceaser_sub_branch
							has_autonomy_state = autonomy_Ceaser_trusteeship_area
						}
					}
					add_to_war = {
						targeted_alliance = ROOT
						enemy = FROM.OVERLORD
					}
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM.OVERLORD
					ratio < 1
				}
			}
			modifier = {
				factor = 1.5
				strength_ratio = {
					tag = FROM.OVERLORD
					ratio > 1.5
				}
			}
			modifier = {
				factor = 3
				strength_ratio = {
					tag = FROM.OVERLORD
					ratio > 2
				}
			}
			modifier = {
				factor = 0.1
				fuel_ratio < 0.7
			}
			modifier = {
				factor = 0
				has_opinion = {
					target = FROM.OVERLORD
					value > 30
				}
			}
			modifier = {
				factor = 2
				has_opinion = {
					target = FROM.OVERLORD
					value < -30
				}
			}
		}
	}
	Great_Game_ask_for_support = {
		target_trigger = {
			FROM = {
				Great_Game_can_be_overlord = yes
				Great_Game_is_involved = no
				has_war = no
			}
		}
		visible = {
			has_country_flag = involved_in_Great_Game_as_ally_leader
			Great_Game_is_involved = yes
			has_war = no
		}

		available = {
			custom_override_tooltip = {
				tooltip = Great_Game_ask_for_support_trigger_tt
				check_variable = { Great_Game_power_score_faction < var:Great_Game_enemy:Great_Game_power_score_faction }

				set_temp_variable = { max_power_score = var:Great_Game_enemy:Great_Game_power_score_faction }
				multiply_temp_variable = { max_power_score = 1.2 }
				set_temp_variable = { expected_power_score = Great_Game_power_score_faction }
				add_to_temp_variable = { expected_power_score = FROM.Great_Game_power_score }
				check_variable = { expected_power_score < max_power_score }
			}
			FROM = {
				Great_Game_can_be_overlord = yes
				Great_Game_is_involved = no
				has_war = no
			}
		}
		complete_effect = {
			set_temp_variable = { leader = ROOT }
			set_temp_variable = { ally = FROM }
			set_temp_variable = { enemy = var:Great_Game_enemy }
			Great_Game_invite_to_ally = yes
		}
	}
	college_exercise_ongoing_attacker = {
		activation = {
			always = no
		}
		is_good = no
		days_mission_timeout = 120
		available = {
			var:Great_Game_invade_target = {
				OR = {
					OVERLORD = {
						surrender_progress > 0.3
					}
					AND = {
						has_capitulated = yes
						days_since_capitulated > 30
					}
				}
			}
		}
		complete_effect = {
			Great_Game_invade_succeeded = yes
			remove_mission = college_exercise_ongoing_attacker
			var:Great_Game_invade_target_overlord = {
				remove_mission = college_exercise_ongoing_defender
			}
		}

		remove_effect = {
			if = { #攻方胜利
				limit = {
					var:Great_Game_invade_target = { has_capitulated = yes }
				}
				Great_Game_invade_succeeded = yes
			}
			else = { #守方胜利
				Great_Game_invade_failed = yes
			}
			remove_mission = college_exercise_ongoing_attacker
			var:Great_Game_invade_target_overlord = {
				remove_mission = college_exercise_ongoing_defender
			}
		}
		cancel_trigger = {
			surrender_progress > 0.3
		}
		cancel_effect = {
			Great_Game_invade_failed = yes
			remove_mission = college_exercise_ongoing_attacker
			var:Great_Game_invade_target_overlord = {
				remove_mission = college_exercise_ongoing_defender
			}
		}
	}
	college_exercise_ongoing_defender = {
		activation = {
			always = no
		}
		is_good = no
		days_mission_timeout = 120
		
		available = {
			var:Great_Game_enemy = {
				surrender_progress > 0.3
			}
		}
		complete_effect = {
			custom_effect_tooltip = Great_Game_defend_succeeded_tt
			effect_tooltip = {
				Great_Game_get_coins = yes
			}
		}

		remove_effect = {
			if = { #攻方胜利
				limit = {
					var:Great_Game_invade_target = { has_capitulated = yes }
				}
				custom_effect_tooltip = Great_Game_defend_failed_tt
			}
			else = { #守方胜利
				custom_effect_tooltip = Great_Game_defend_succeeded_tt
			}
			effect_tooltip = {
				Great_Game_get_coins = yes
			}
		}
		cancel_trigger = {
			NOT = {
				has_war_with = var:Great_Game_enemy
			}
		}
		cancel_effect = {
			effect_tooltip = {
				Great_Game_get_coins = yes
			}
			
		}
	}
	college_exercise_ongoing_ally = {
		target_trigger = {
			always = no
		}
		activation = {
			always = no
		}
		is_good = no
		days_mission_timeout = 120
		
		available = {
			OR = {
				surrender_progress > 0.3
				var:Great_Game_invader = {
					NOT = {
						has_war_with = var:Great_Game_invade_target_overlord
					}
				}
			}
		}
		complete_effect = {
			Great_Game_ally_leave = yes
		}
		timeout_effect = {
			Great_Game_ally_leave = yes
		}
		cancel_trigger = {
			NOT = {
				has_war_with = var:Great_Game_enemy
			}
		}
		cancel_effect = {
			Great_Game_ally_leave = yes
		}
	}
	Great_Game_invade_cd = {
		activation = {
			always = no
		}
		is_good = no
		days_mission_timeout = 180
		
		available = {
			always = no
		}
		remove_effect = {
			clr_country_flag = Great_Game_invade_cd
		}
	}
}
BA_integrate_trusteeship_decisions = {
	BA_integrate_trusteeship = {
		target_trigger = {
			has_subject = FROM
			FROM = {
				OR = {
					has_autonomy_state = autonomy_bare_trusteeship_area
					has_autonomy_state = autonomy_bare_trusteeship_area_1
				}
			}
		}
		cost = 100
		days_re_enable = 120
		complete_effect = {
			FROM = {
				add_autonomy_score = {
					value = -50
				}
			}
		}
	}
}
BA_Great_Game_decisions_debug = {
	lauch_event = {
		fire_only_once = yes
		complete_effect = {
			CEN = {
				news_event = Great_Game.1000
			}
		}
	}
	record_1 = {
		complete_effect = {
			set_variable = { Great_Game_record_target^Great_Game_record_count = GEH }
			set_variable = { Great_Game_record_enemy^Great_Game_record_count = MIL }
			set_variable = { Great_Game_record_result^Great_Game_record_count = 1 }
			set_variable = { Great_Game_record_faction^Great_Game_record_count = 1 }
			set_variable = { Great_Game_record_date^Great_Game_record_count = global.date }
			Great_Game_add_record = yes
		}
	}
	record_2 = {
		complete_effect = {
			set_variable = { Great_Game_record_target^Great_Game_record_count = GEH }
			set_variable = { Great_Game_record_enemy^Great_Game_record_count = MIL }
			set_variable = { Great_Game_record_result^Great_Game_record_count = 1 }
			set_variable = { Great_Game_record_faction^Great_Game_record_count = 2 }
			set_variable = { Great_Game_record_date^Great_Game_record_count = global.date }
			Great_Game_add_record = yes
		}
	}
	record_3 = {
		complete_effect = {
			set_variable = { Great_Game_record_target^Great_Game_record_count = VAL }
			set_variable = { Great_Game_record_enemy^Great_Game_record_count = CEN }
			set_variable = { Great_Game_record_result^Great_Game_record_count = 2 }
			set_variable = { Great_Game_record_faction^Great_Game_record_count = 1 }
			set_variable = { Great_Game_record_date^Great_Game_record_count = global.date }
			Great_Game_add_record = yes
		}
	}
	record_4 = {
		complete_effect = {
			set_variable = { Great_Game_record_target^Great_Game_record_count = SRT }
			set_variable = { Great_Game_record_enemy^Great_Game_record_count = CEN }
			set_variable = { Great_Game_record_result^Great_Game_record_count = 2 }
			set_variable = { Great_Game_record_faction^Great_Game_record_count = 2 }
			set_variable = { Great_Game_record_date^Great_Game_record_count = global.date }
			Great_Game_add_record = yes
		}
	}
}