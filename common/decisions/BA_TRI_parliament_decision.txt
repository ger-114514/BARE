TRI_parliament_decisions_categories = {
	TRI_senate_task = { #上议院任务1
		visible = {
			custom_override_tooltip = {
				tooltip = {
					localization_key = has_completed_focus_tt
					FOCUS = TRI_threading_a_needle
				}
				has_country_flag = TRI_threading_a_needle
			}
		}
		complete_effect = {
			if = {
				limit = { has_country_flag = TRI_senate_promise_task_1 }
				clr_country_flag = TRI_senate_promise_task_1
				custom_effect_tooltip = {
					localization_key = TRI_complete_promise_task_tt
					PARLIAMENT = BA_TRI_senate_seat
				}
			}
		}
	}
	TRI_senate_limited_lesson_adjustment = { #允许上议院有限度的调整课程
		visible = {
			custom_override_tooltip = {
				tooltip = {
					localization_key = has_completed_focus_tt
					FOCUS = TRI_threading_a_needle
				}
				has_country_flag = TRI_threading_a_needle
			}
		}
		days_remove = 60
		days_re_enable = 120
		modifier = {
			research_speed_factor = -0.05
			stability_factor = -0.05
		}
		complete_effect = {
			set_temp_variable = { target_parliament = token:BA_TRI_senate_seat }
			set_temp_variable = { loyalty_change = 0.03 }
			TRI_parliament_loyalty_change_parliament = yes
			if = {
				limit = { has_country_flag = TRI_senate_promise_task_2 }
				clr_country_flag = TRI_senate_promise_task_2
				custom_effect_tooltip = {
					localization_key = TRI_complete_promise_task_tt
					PARLIAMENT = BA_TRI_senate_seat
				}
			}
		}
	}
	TRI_senate_relax_economic_control = { #放宽对上议院的经济管控
		visible = {
			custom_override_tooltip = {
				tooltip = {
					localization_key = has_completed_focus_tt
					FOCUS = TRI_threading_a_needle
				}
				has_country_flag = TRI_threading_a_needle
			}
		}
		available = {
			num_of_civilian_factories_available_for_projects > 1
		}
		days_remove = 60
		days_re_enable = 120
		modifier = {
			stability_factor = -0.05
			civilian_factory_use = 2
		}
		complete_effect = {
			set_temp_variable = { target_parliament = token:BA_TRI_senate_seat }
			set_temp_variable = { target_faction = TRI_player_focus_faction }
			set_temp_variable = { loyalty_change = 0.1 }
			TRI_parliament_loyalty_change_parliament_non_faction = yes
			if = {
				limit = { has_country_flag = TRI_senate_promise_task_3 }
				clr_country_flag = TRI_senate_promise_task_3
				custom_effect_tooltip = {
					localization_key = TRI_complete_promise_task_tt
					PARLIAMENT = BA_TRI_senate_seat
				}
			}
		}
	}
	TRI_house_task = { #上议院任务1
		visible = {
			custom_override_tooltip = {
				tooltip = {
					localization_key = has_completed_focus_tt
					FOCUS = TRI_threading_a_needle
				}
				has_country_flag = TRI_threading_a_needle
			}
		}
		complete_effect = {
			if = {
				limit = { has_country_flag = TRI_house_promise_task_1 }
				clr_country_flag = TRI_house_promise_task_1
				custom_effect_tooltip = {
					localization_key = TRI_complete_promise_task_tt
					PARLIAMENT = BA_TRI_house_seat
				}
			}
		}
	}
	TRI_house_limited_lesson_adjustment = { #允许下议院有限度的调整课程
		visible = {
			custom_override_tooltip = {
				tooltip = {
					localization_key = has_completed_focus_tt
					FOCUS = TRI_return_a_favor
				}
				has_country_flag = TRI_return_a_favor
			}
		}
		days_remove = 60
		days_re_enable = 120
		modifier = {
			research_speed_factor = -0.05
			stability_factor = -0.05
		}
		complete_effect = {
			set_temp_variable = { target_parliament = token:BA_TRI_house_seat }
			set_temp_variable = { loyalty_change = 0.03 }
			TRI_parliament_loyalty_change_parliament = yes
			if = {
				limit = { has_country_flag = TRI_house_promise_task_2 }
				clr_country_flag = TRI_house_promise_task_2
				custom_effect_tooltip = {
					localization_key = TRI_complete_promise_task_tt
					PARLIAMENT = BA_TRI_house_seat
				}
			}
		}
	}
	TRI_house_relax_economic_control = { #放宽对下议院的经济管控
		visible = {
			custom_override_tooltip = {
				tooltip = {
					localization_key = has_completed_focus_tt
					FOCUS = TRI_return_a_favor
				}
				has_country_flag = TRI_return_a_favor
			}
		}
		available = {
			num_of_civilian_factories_available_for_projects > 1
		}
		days_remove = 60
		days_re_enable = 120
		modifier = {
			stability_factor = -0.05
			civilian_factory_use = 2
		}
		complete_effect = {
			set_temp_variable = { target_parliament = token:BA_TRI_house_seat }
			set_temp_variable = { target_faction = TRI_player_focus_faction }
			set_temp_variable = { loyalty_change = 0.1 }
			TRI_parliament_loyalty_change_parliament_non_faction = yes
			if = {
				limit = { has_country_flag = TRI_house_promise_task_3 }
				clr_country_flag = TRI_house_promise_task_3
				custom_effect_tooltip = {
					localization_key = TRI_complete_promise_task_tt
					PARLIAMENT = BA_TRI_house_seat
				}
			}
		}
	}
	#安抚社团成员
	TRI_BOP_appease_association = {
		visible = {
			check_variable = { TRI_parliament_focus = token:TRI_parliament_focus_signing_Eden }
		}
		available = {
			custom_override_tooltip = {
				tooltip = {
					localization_key = has_completed_focus_tt
					FOCUS = TRI_rebuild_communication_channel
				}
				has_country_flag = TRI_rebuild_communication_channel
			}
		}
		days_re_enable = 40
		complete_effect = {
			set_variable_to_random = {
				var = i
				min = 0
				max = 6
				integer = yes
			}
			set_variable = { appease_association_target = TRI_parliament_association^i }
			country_event = TRI_BOP_decision.5
		}
	}
	TRI_compaign_for_meeting = {
		visible = {
			has_country_flag = TRI_compaign_for_meeting
		}
		available = {
			command_power > 24.9
		}
		cost = 50
		days_re_enable = 90
		complete_effect = {
			add_command_power = -25
			random_list = {
				1 = {
					add_stability = 0.1
				}
				1 = {
					modifier = {
						check_variable = { TRI_unity > 95 }
						factor = 0
					}
					modifier = {
						check_variable = { TRI_unity < 60 }
						factor = 2
					}
					TRI_unity_increase_5 = yes
				}
				1 = {
					set_temp_variable = { loyalty_change = 0.02 }
					TRI_parliament_all_loyalty_change = yes
				}
			}
		}
	}
	#准备筹码
	TRI_prepare_counters = {
		visible = {
			check_variable = { TRI_parliament_focus = token:TRI_parliament_focus_trust_on_current_leader }
			check_variable = { TRI_prepare_counters_fire_count < 7 }
		}
		available = {
			has_completed_focus = TRI_repair_trust
			custom_override_tooltip = {
				tooltip = TRI_prepare_counters_fire_count
			}
			num_of_civilian_factories_available_for_projects > 4
		}
		days_remove = 7
		modifier = {
			civilian_factory_use = 5
		}
		complete_effect = {
			add_political_power = 50
			add_to_variable = { TRI_prepare_counters_fire_count = 1 }
		}
	}
	#树立即行方针
	TRI_BOP_set_current_policy = {
		visible = {
			check_variable = { TRI_parliament_focus = token:TRI_parliament_focus_Eden_threat }
			#触发“风雨飘摇”
			has_country_flag = TRI_BOP_set_current_policy_available
		}
		available = {
			has_country_flag = TRI_rebuild_communication_channel
		}
		fire_only_once = yes
		
		complete_effect = {
            #我们的抉择
			country_event = TRI_BOP_decision.1000
		}
	}
	#施行紧急状态管制
	TRI_BOP_martial_law = {
		visible = {
			check_variable = { TRI_parliament_focus = token:TRI_parliament_focus_Eden_threat }
			#完成“我们的抉择”
			has_country_flag = TRI_BOP_set_current_policy_completed
		}
		available = {
			has_country_flag = TRI_rebuild_communication_channel
		}
		complete_effect = {
			country_event = TRI_BOP_decision.6
		}
	}
	#稳定社团关系
	TRI_BOP_association_stability = {
		visible = {
			check_variable = { TRI_parliament_focus = token:TRI_parliament_focus_Eden_threat }
			#完成“我们的抉择”
			has_country_flag = TRI_BOP_set_current_policy_completed
		}
		available = {
			has_country_flag = TRI_rebuild_communication_channel
		}
		
		complete_effect = {
			set_variable_to_random = {
				var = i
				min = 0
				max = 6
				integer = yes
			}
			set_variable = { association_stability_target = TRI_parliament_association^i }
			country_event = TRI_BOP_decision.7
		}
	}
	#维持学院内稳定——稳定
	TRI_BOP_school_stability_stab = {
		visible = {
			check_variable = { TRI_parliament_focus = token:TRI_parliament_focus_Eden_threat }
			#完成“我们的抉择”
			has_country_flag = TRI_BOP_set_current_policy_completed
		}
		available = {
			has_country_flag = TRI_rebuild_communication_channel
		}
		
		complete_effect = {
			country_event = TRI_BOP_decision.8
		}
	}
	#维持学院内稳定——战争
	TRI_BOP_school_stability_wars = {
		visible = {
			check_variable = { TRI_parliament_focus = token:TRI_parliament_focus_Eden_threat }
			#完成“我们的抉择”
			has_country_flag = TRI_BOP_set_current_policy_completed
		}
		available = {
			has_country_flag = TRI_rebuild_communication_channel
		}
		
		complete_effect = {
			country_event = TRI_BOP_decision.9
		}
	}

}
TRI_bill_voting_decisions_categories = {
	TRI_vote_for_the_bill = {
		priority = 1000
		is_good = no
		available = { always = no }
		activation = {
			has_variable = TRI_debated_bill
		}
		days_mission_timeout = 140
		timeout_effect = {
			if = {
				limit = { check_variable = { TRI_debated_bill = token:TRI_Bill_of_emergent_motion } }
				set_temp_variable = { loyalty_change = -0.15 }
				TRI_parliament_all_loyalty_change = yes
			}
			if = {
				limit = { 
					check_variable = { bill_support@BA_TRI_senate_seat > senate_needed_support@var:TRI_debated_bill }
					check_variable = { bill_support@BA_TRI_house_seat > house_needed_support@var:TRI_debated_bill } 
				}
				country_event = TRI_parliament_bill.1
			}
			else = {
				if = {
					limit = { check_variable = { TRI_debated_bill = token:TRI_Bill_of_emergent_motion } }
					set_temp_variable = { loyalty_change = -0.10 }
					TRI_parliament_all_loyalty_change = yes
					set_temp_variable = { radicalism_change = 0.10 }
					TRI_parliament_all_radicalism_change = yes
				}
				country_event = TRI_parliament_bill.2
			}
			set_country_flag = TRI_parliament_adjourn
			activate_mission = TRI_parliament_adjourn
		}
	}
	TRI_parliament_adjourn = {
		priority = 1000
		is_good = no
		available = { always = no }
		activation = {
			has_country_flag = TRI_parliament_adjourn
		}
		days_mission_timeout = 70
		timeout_effect = {
			clr_country_flag = TRI_parliament_adjourn
		}
	}
	TRI_emergent_voting = {
		visible = {
			has_country_flag = TRI_emergent_voting_available
			has_active_mission = TRI_parliament_adjourn
		}
		available = {
			has_active_mission = TRI_parliament_adjourn
		}
		cost = 100
		days_remove = 3
		remove_effect = {
			custom_effect_tooltip = TRI_emergent_voting_tt
			clr_country_flag = TRI_parliament_adjourn
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				any_of = {
					array = TRI_bills_to_be_passed
					value = v
					NOT = { check_variable = { v = 0 } }
				}
			}
		}
	}
	TRI_earn_extra_senate_support = {
		visible = {
			has_variable = TRI_debated_bill
		}
		available = {
			custom_override_tooltip = {
				tooltip = TRI_bill_senate_support_not_enough
				NOT = { check_variable = { bill_support@BA_TRI_senate_seat > senate_needed_support@var:TRI_debated_bill } }
			}
		}
		cost = 100
		days_re_enable = 35
		complete_effect = {
			set_temp_variable = { parliament = token:BA_TRI_senate_seat }
			set_temp_variable = { support_get = 1 }
			TRI_get_temp_bill_support = yes
		}
		ai_will_do = {
			base = 100
		}
	}
	TRI_earn_extra_house_support = {
		visible = {
			has_variable = TRI_debated_bill
		}
		available = {
			custom_override_tooltip = {
				tooltip = TRI_bill_house_support_not_enough
				NOT = { check_variable = { bill_support@BA_TRI_house_seat > senate_needed_support@var:TRI_debated_bill } }
			}
		}
		cost = 100
		days_re_enable = 35
		complete_effect = {
			set_temp_variable = { parliament = token:BA_TRI_house_seat }
			set_temp_variable = { support_get = 3 }
			TRI_get_temp_bill_support = yes
		}
		ai_will_do = {
			base = 100
		}
	}
	skip_voting = {
		visible = {
			is_debug = yes
		}
		complete_effect = {
			add_days_mission_timeout = {
				mission = TRI_vote_for_the_bill
				days = -140
			}
		}
	}
	#“胡萝卜蛋糕”法案
	TRI_submit_Bill_of_carrot_cake = {
		visible = {
			is_in_array = {
				array = TRI_bills_to_be_passed
				value = token:TRI_Bill_of_carrot_cake
			}
		}
		available = {
			TRI_can_submit_a_bill = yes
		}
		complete_effect = {
			set_temp_variable = { bill = token:TRI_Bill_of_carrot_cake }
			TRI_submit_the_bill = yes
		}
		ai_will_do = {
			base = 99
		}
	}
	#“铜橄榄”法案
	TRI_submit_Bill_of_copper_olive = {
		visible = {
			is_in_array = {
				array = TRI_bills_to_be_passed
				value = token:TRI_Bill_of_copper_olive
			}
		}
		available = {
			TRI_can_submit_a_bill = yes
		}
		complete_effect = {
			set_temp_variable = { bill = token:TRI_Bill_of_copper_olive }
			TRI_submit_the_bill = yes
		}
		ai_will_do = {
			base = 99
		}
	}
	#开诚布公法案
	TRI_submit_Bill_of_disclosure = {
		visible = {
			is_in_array = {
				array = TRI_bills_to_be_passed
				value = token:TRI_Bill_of_disclosure
			}
		}
		available = {
			TRI_can_submit_a_bill = yes
		}
		complete_effect = {
			set_temp_variable = { bill = token:TRI_Bill_of_disclosure }
			TRI_submit_the_bill = yes
		}
		ai_will_do = {
			base = 100
		}
	}
	#重获信任法案
	TRI_submit_Bill_of_regaining_trust = {
		visible = {
			is_in_array = {
				array = TRI_bills_to_be_passed
				value = token:TRI_Bill_of_regaining_trust
			}
		}
		available = {
			TRI_can_submit_a_bill = yes
		}
		complete_effect = {
			set_temp_variable = { bill = token:TRI_Bill_of_regaining_trust }
			TRI_submit_the_bill = yes
		}
		ai_will_do = {
			base = 100
		}
	}
	#“紧急事态动议”法案
	TRI_submit_Bill_of_emergent_motion = {
		visible = {
			is_in_array = {
				array = TRI_bills_to_be_passed
				value = token:TRI_Bill_of_emergent_motion
			}
		}
		available = {
			TRI_can_submit_a_bill = yes
		}
		complete_effect = {
			set_temp_variable = { bill = token:TRI_Bill_of_emergent_motion }
			TRI_submit_the_bill = yes
		}
		ai_will_do = {
			base = 100
		}
	}
}
TRI_hanako_decisions = {
	#加快修女会世俗化进程
	TRI_secularize_sisterhood = {
		fire_only_once = yes
		cost = 100
		days_remove = 30
		remove_effect = {
			#其他社团议席全部移动一个至修女会之下
			set_temp_variable = { to_association = token:TRI_parliament_association_4 }
			set_temp_variable = { from_association = token:TRI_parliament_association_3 }
			set_temp_variable = { TRI_seat_change_num = 1 }
			TRI_BOP_tranfer_seat = yes
			set_temp_variable = { from_association = token:TRI_parliament_association_5 }
			set_temp_variable = { TRI_seat_change_num = 1 }
			TRI_BOP_tranfer_seat = yes
			set_temp_variable = { from_association = token:TRI_parliament_association_6 }
			set_temp_variable = { TRI_seat_change_num = 1 }
			TRI_BOP_tranfer_seat = yes

            set_temp_variable = { target_faction = token:BOP_moderate }
			set_temp_variable = { loyalty_change = 0.05 }
			set_temp_variable = { radicalism_change = -0.05 }
			TRI_parliament_loyalty_change_faction = yes
			TRI_parliament_radicalism_change_faction = yes

			set_temp_variable = { loyalty_change = 0.05 }
			set_temp_variable = { radicalism_change = -0.05 }
			TRI_parliament_all_loyalty_change = yes
			TRI_parliament_all_radicalism_change = yes
			add_stability = -0.05
		}
	}
	#收拢正义实现委员会残部
	TRI_organize_the_remnants = {
		fire_only_once = yes
		cost = 50
		days_remove = 15
		modifier = {
			consumer_goods_factor = 0.1
		}
		remove_effect = {
			add_manpower = 15000
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 2000
			}
			country_event = TRI_BOP_decision.101
		}
	}
	#正义实现委员会部员暴乱
		TRI_revolting_justice = {
			is_good = no
			available = {
				has_country_flag = TRI_assistance_from_sisterhood
				has_country_flag = TRI_supress_revolting_students
				has_country_flag = TRI_clarify_rumors
			}
			activation = {
				has_country_flag = TRI_revolting_justice
			}
			days_mission_timeout = 14
			timeout_effect = {
				if = {
					limit = { has_country_flag = TRI_revolting_justice_prime_chance }
					clr_country_flag = TRI_revolting_justice_prime_chance
					custom_effect_tooltip = TRI_revolting_justice_prime_chance_fail_tt
				}
				add_stability = -0.05
				random_controlled_state = {
					limit = {
						non_damaged_building_level = {
							building = industrial_complex
							level > 0
						}
					}
					damage_building = {
						type = industrial_complex
						damage = 0
					}
				}
				random_controlled_state = {
					limit = {
						non_damaged_building_level = {
							building = arms_factory
							level > 0.2
						}
					}
					damage_building = {
						type = arms_factory
						damage = 0.2
					}
				}
				activate_mission = TRI_revolting_justice
			}
			complete_effect = {
				if = {
					limit = { has_country_flag = TRI_revolting_justice_prime_chance }
					country_event = TRI_BOP_decision.103
				}
				else = {
					country_event = TRI_BOP_decision.104
				}
				clr_country_flag = TRI_revolting_justice
				clr_country_flag = TRI_assistance_from_sisterhood
				clr_country_flag = TRI_supress_revolting_students
				clr_country_flag = TRI_clarify_rumors
			}
		}
		#派遣修女会成员协助维持内部秩序
		TRI_assistance_from_sisterhood = {
			visible = {
				has_country_flag = TRI_revolting_justice
			}
			available = {
				has_manpower > 4999
			}
			fire_only_once = yes
			days_remove = 10
			remove_effect = {
				set_country_flag = TRI_assistance_from_sisterhood
				add_manpower = -5000
				add_stability = 0.05
				set_temp_variable = { association = token:TRI_parliament_association_4 }
				set_temp_variable = { radicalism_change = 0.05 }
				TRI_parliament_radicalism_change = yes
				set_temp_variable = { association = token:TRI_parliament_association_3 }
				set_temp_variable = { radicalism_change = -0.05 }
				TRI_parliament_radicalism_change = yes
				TRI_parliament_all_radicalism_change = yes
			}
		}
		#压制暴动学生的动乱
		TRI_supress_revolting_students = {
			visible = {
				has_country_flag = TRI_revolting_justice
			}
			available = {
				has_equipment = { infantry_equipment > 1999 }
			}
			fire_only_once = yes
			days_remove = 7
			remove_effect = {
				set_country_flag = TRI_supress_revolting_students
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -2000
				}
				add_stability = 0.05
				set_temp_variable = { association = token:TRI_parliament_association_4 }
				set_temp_variable = { radicalism_change = 0.05 }
				TRI_parliament_radicalism_change = yes
				set_temp_variable = { association = token:TRI_parliament_association_3 }
				set_temp_variable = { radicalism_change = -0.05 }
				TRI_parliament_radicalism_change = yes
				TRI_parliament_all_radicalism_change = yes
			}
		}
		#发布公告并澄清流言
		TRI_clarify_rumors = {
			visible = {
				has_country_flag = TRI_revolting_justice
			}
			fire_only_once = yes
			cost = 75
			days_remove = 7
			remove_effect = {
				set_country_flag = TRI_clarify_rumors
				add_stability = 0.05
				set_temp_variable = { association = token:TRI_parliament_association_4 }
				set_temp_variable = { loyalty_change = -0.05 }
				set_temp_variable = { radicalism_change = 0.1 }
				TRI_parliament_loyalty_change = yes
				TRI_parliament_radicalism_change = yes

				set_temp_variable = { association = token:TRI_parliament_association_3 }
				TRI_parliament_loyalty_change = yes

				set_temp_variable = { loyalty_change = 0.05 }
				set_temp_variable = { radicalism_change = -0.1 }
				TRI_parliament_all_loyalty_change = yes
				TRI_parliament_all_radicalism_change = yes
			}
		}
	#为救护骑士团增派物资
	TRI_send_equipment_to_khights = {
		available = {
			has_equipment = { support_equipment > 499 }
		}
		days_remove = 60
		modifier = {
			mobilization_speed = 0.2
			weekly_manpower = 250
		}
	}
	#要求救护骑士团优先关注前线
	TRI_send_khights_to_the_frontline = {
		cost = 75
		days_remove = 45
		modifier = {
			army_core_attack_factor = 0.05
			army_core_defence_factor = 0.05
			army_org_regain = 0.1
		}
		complete_effect = {
			set_temp_variable = { association = token:TRI_parliament_association_5 }
			set_temp_variable = { loyalty_change = -0.1 }
			set_temp_variable = { radicalism_change = 0.05 }
			TRI_parliament_loyalty_change = yes
			TRI_parliament_radicalism_change = yes
		}
	}
	#向自警团等社团下放权力
	TRI_delegate_power_to_other_associations = {
		days_re_enable = 30
		complete_effect = {
			set_temp_variable = { association = token:TRI_parliament_association_4 }
			set_temp_variable = { loyalty_change = -0.25 }
			set_temp_variable = { radicalism_change = 0.2 }
			TRI_parliament_loyalty_change = yes
			TRI_parliament_radicalism_change = yes

			set_temp_variable = { loyalty_change = 0.1 }
			set_temp_variable = { radicalism_change = -0.1 }
			TRI_parliament_all_loyalty_change = yes
			TRI_parliament_all_radicalism_change = yes
		}
	}
	#征召其它社团成员
	TRI_call_up_other_associations = {
		days_re_enable = 30
		complete_effect = {
			add_manpower = 20000
			add_stability = -0.05

			set_temp_variable = { loyalty_change = -0.1 }
			set_temp_variable = { radicalism_change = 0.1 }
			TRI_parliament_all_loyalty_change = yes
			TRI_parliament_all_radicalism_change = yes
		}
	}
}